{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const getCategories = createAsyncThunk('cateogries/getCategories', async (_, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n  try {\n    let {\n      data\n    } = await axios.get('https://api.escuelajs.co/api/v1/categories');\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const getCategory = createAsyncThunk('category/getCategory', async (id, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n  try {\n    let {\n      data\n    } = await axios.get(`https://api.escuelajs.co/api/v1/categories/${id}`);\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const getProductsOfCategory = createAsyncThunk('products/getProductsOfCategory', async (id, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n  try {\n    let {\n      data\n    } = await axios.get(`https://api.escuelajs.co/api/v1/categories/${id}/products`);\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst categoriesSlice = createSlice({\n  name: 'categories',\n  initialState: {\n    categories: [],\n    error: null,\n    isLoading: false,\n    products: [],\n    listItems: []\n  },\n  reducers: {\n    filterByCategory: (state, action) => {\n      let newList = [...state.listItems];\n      state.products = newList.filter(item => item.category === action.payload);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getCategories.pending, (state, action) => {\n      state.isLoading = true;\n      state.error = null;\n    });\n    builder.addCase(getCategories.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.categories = action.payload;\n      state.error = null;\n    });\n    builder.addCase(getCategories.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n    //get category\n    builder.addCase(getCategory.pending, (state, action) => {\n      state.isLoading = true;\n      state.error = null;\n    });\n    builder.addCase(getCategory.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.categories = action.payload;\n      state.error = null;\n    });\n    builder.addCase(getCategory.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n\n    //products of category\n    builder.addCase(getProductsOfCategory.pending, (state, action) => {\n      state.isLoading = true;\n      state.error = null;\n    });\n    builder.addCase(getProductsOfCategory.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.products = action.payload;\n      state.listProduct = action.payload;\n      state.error = null;\n      console.log(state.products);\n    });\n    builder.addCase(getProductsOfCategory.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default categoriesSlice.reducer;\nexport let {\n  filterByCategory\n} = categoriesSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getCategories","_","thunkAPI","rejectWithValue","data","get","error","message","getCategory","id","getProductsOfCategory","categoriesSlice","name","initialState","categories","isLoading","products","listItems","reducers","filterByCategory","state","action","newList","filter","item","category","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","listProduct","console","log","reducer","actions"],"sources":["D:/route/react projects/ecomerce/src/store/CatgoriesSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nexport const getCategories = createAsyncThunk('cateogries/getCategories',async(_,thunkAPI)=>{\r\n    const {rejectWithValue} = thunkAPI;\r\n\r\n    try {\r\n        let {data} = await axios.get('https://api.escuelajs.co/api/v1/categories')\r\n        return data\r\n        \r\n    } catch (error) {\r\n        return rejectWithValue(error.message);  \r\n    }\r\n})\r\n\r\nexport const getCategory = createAsyncThunk('category/getCategory', async(id,thunkAPI)=>{\r\n    const {rejectWithValue} = thunkAPI;\r\n    try {\r\n        let {data} = await axios.get(`https://api.escuelajs.co/api/v1/categories/${id}`)\r\n        return data\r\n    } catch (error) {\r\n        return rejectWithValue(error.message); \r\n    }\r\n    \r\n})\r\n\r\n\r\nexport const getProductsOfCategory = createAsyncThunk('products/getProductsOfCategory',async(id,thunkAPI)=>{\r\n    const {rejectWithValue} = thunkAPI;\r\n    try {\r\n        let {data} = await axios.get(`https://api.escuelajs.co/api/v1/categories/${id}/products`)\r\n        return data;\r\n    } catch (error) {\r\n        return rejectWithValue(error.message);\r\n    }\r\n})\r\n\r\n\r\nconst categoriesSlice = createSlice({\r\n    name:'categories',\r\n    initialState:{categories:[],error:null,isLoading:false,products:[],listItems:[]},\r\n    reducers:{\r\n        filterByCategory:(state,action)=>{\r\n           let newList =[...state.listItems]\r\n           state.products = newList.filter((item)=>item.category === action.payload)\r\n        }\r\n    },\r\n  \r\n    extraReducers:(builder)=>{\r\n        builder.addCase(getCategories.pending,(state,action)=>{\r\n            state.isLoading = true\r\n            state.error = null;\r\n        })\r\n        builder.addCase(getCategories.fulfilled,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.categories =action.payload;\r\n            state.error = null\r\n        })\r\n\r\n        builder.addCase(getCategories.rejected,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.error = action.payload; \r\n        })\r\n        //get category\r\n        builder.addCase(getCategory.pending,(state,action)=>{\r\n            state.isLoading = true\r\n            state.error = null;\r\n        })\r\n        builder.addCase(getCategory.fulfilled,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.categories =action.payload;\r\n            state.error = null\r\n        })\r\n\r\n        builder.addCase(getCategory.rejected,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.error = action.payload; \r\n        })\r\n\r\n        //products of category\r\n        builder.addCase(getProductsOfCategory.pending,(state,action)=>{\r\n            state.isLoading = true\r\n            state.error = null;\r\n        })\r\n        builder.addCase(getProductsOfCategory.fulfilled,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.products =action.payload;\r\n            state.listProduct = action.payload;\r\n            state.error = null\r\n            console.log(state.products);\r\n        })\r\n\r\n        builder.addCase(getProductsOfCategory.rejected,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.error = action.payload; \r\n        })\r\n\r\n    }\r\n\r\n})\r\n\r\nexport default categoriesSlice.reducer;\r\nexport let {filterByCategory} = categoriesSlice.actions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}