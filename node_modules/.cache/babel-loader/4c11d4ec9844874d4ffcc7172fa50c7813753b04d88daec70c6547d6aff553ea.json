{"ast":null,"code":"import _toConsumableArray from\"D:/route/react projects/ecomerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/route/react projects/ecomerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/route/react projects/ecomerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";export var getProducts=createAsyncThunk('products/getProducts',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(num,thunkAPI){var rejectWithValue,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:rejectWithValue=thunkAPI.rejectWithValue;_context.prev=1;_context.next=4;return axios.get(\"https://api.escuelajs.co/api/v1/categories/\".concat(num,\"/products\"));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0.message));case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());var productsSlice=createSlice({name:'products',initialState:{products:[],error:null,isLoading:false,listProduct:[],items:[]},reducers:{increasePage:function increasePage(state,action){state.num+=1;console.log(state.num+=1);},decreasePage:function decreasePage(state,action){state.num-=1;},filterByPrice:function filterByPrice(state,action){var newList=_toConsumableArray(state.listProduct);state.products=newList.filter(function(item){return item.price>action.payload;});console.log(state.products);}},extraReducers:function extraReducers(builder){builder.addCase(getProducts.pending,function(state,action){state.isLoading=true;state.error=null;});builder.addCase(getProducts.fulfilled,function(state,action){state.isLoading=false;state.products=action.payload;state.listProduct=action.payload;state.items=action.payload;state.error=null;});builder.addCase(getProducts.rejected,function(state,action){state.isLoading=false;state.error=action.payload;});}});export default productsSlice.reducer;var _productsSlice$action=productsSlice.actions,increasePage=_productsSlice$action.increasePage,decreasePage=_productsSlice$action.decreasePage,filterByPrice=_productsSlice$action.filterByPrice;export{increasePage,decreasePage,filterByPrice};","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getProducts","num","thunkAPI","rejectWithValue","get","data","message","productsSlice","name","initialState","products","error","isLoading","listProduct","items","reducers","increasePage","state","action","console","log","decreasePage","filterByPrice","newList","filter","item","price","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","reducer","actions"],"sources":["D:/route/react projects/ecomerce/src/store/ProductsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\n\r\nexport const getProducts = createAsyncThunk('products/getProducts',async(num,thunkAPI)=>{\r\n    const {rejectWithValue} = thunkAPI;\r\n\r\n    try {\r\n        let {data} = await axios.get(`https://api.escuelajs.co/api/v1/categories/${num}/products`);\r\n        return data\r\n        \r\n    } catch (error) {\r\n        return rejectWithValue(error.message);  \r\n    }\r\n\r\n})\r\n\r\n\r\n\r\n\r\n const productsSlice = createSlice({\r\n    name:'products',\r\n    initialState:{products:[],error:null,isLoading:false,listProduct:[],items:[]},\r\n    reducers:{\r\n        increasePage:(state, action)=>{\r\n            state.num+=1\r\n            console.log(state.num+=1);\r\n        },\r\n        decreasePage:(state, action)=>{\r\n            state.num-=1\r\n        },\r\n\r\n        filterByPrice:(state,action)=>{\r\n            let newList = [...state.listProduct]\r\n            state.products = newList.filter((item)=>item.price > action.payload)\r\n            console.log(state.products);\r\n        },\r\n    },\r\n    extraReducers:(builder)=>{\r\n        builder.addCase(getProducts.pending,(state,action)=>{\r\n            state.isLoading = true\r\n            state.error = null;\r\n        })\r\n        builder.addCase(getProducts.fulfilled,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.products =action.payload;\r\n            state.listProduct = action.payload;\r\n            state.items = action.payload;\r\n            state.error = null;\r\n\r\n        })\r\n        builder.addCase(getProducts.rejected,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.error = action.payload; \r\n        })\r\n    }\r\n\r\n })\r\n\r\n\r\n export default productsSlice.reducer;\r\n export const {increasePage,decreasePage,filterByPrice} = productsSlice.actions;"],"mappings":"0XAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,MAAOC,MAAK,KAAM,OAAO,CAKzB,MAAO,IAAMC,YAAW,CAAGH,gBAAgB,CAAC,sBAAsB,4FAAC,iBAAMI,GAAG,CAACC,QAAQ,6JAC1EC,eAAe,CAAID,QAAQ,CAA3BC,eAAe,uCAGCJ,MAAK,CAACK,GAAG,sDAA+CH,GAAG,cAAY,uCAArFI,IAAI,kBAAJA,IAAI,iCACFA,IAAI,0FAGJF,eAAe,CAAC,YAAMG,OAAO,CAAC,qEAG5C,mEAAC,CAKD,GAAMC,cAAa,CAAGT,WAAW,CAAC,CAC/BU,IAAI,CAAC,UAAU,CACfC,YAAY,CAAC,CAACC,QAAQ,CAAC,EAAE,CAACC,KAAK,CAAC,IAAI,CAACC,SAAS,CAAC,KAAK,CAACC,WAAW,CAAC,EAAE,CAACC,KAAK,CAAC,EAAE,CAAC,CAC7EC,QAAQ,CAAC,CACLC,YAAY,CAAC,sBAACC,KAAK,CAAEC,MAAM,CAAG,CAC1BD,KAAK,CAAChB,GAAG,EAAE,CAAC,CACZkB,OAAO,CAACC,GAAG,CAACH,KAAK,CAAChB,GAAG,EAAE,CAAC,CAAC,CAC7B,CAAC,CACDoB,YAAY,CAAC,sBAACJ,KAAK,CAAEC,MAAM,CAAG,CAC1BD,KAAK,CAAChB,GAAG,EAAE,CAAC,CAChB,CAAC,CAEDqB,aAAa,CAAC,uBAACL,KAAK,CAACC,MAAM,CAAG,CAC1B,GAAIK,QAAO,oBAAON,KAAK,CAACJ,WAAW,CAAC,CACpCI,KAAK,CAACP,QAAQ,CAAGa,OAAO,CAACC,MAAM,CAAC,SAACC,IAAI,QAAGA,KAAI,CAACC,KAAK,CAAGR,MAAM,CAACS,OAAO,GAAC,CACpER,OAAO,CAACC,GAAG,CAACH,KAAK,CAACP,QAAQ,CAAC,CAC/B,CACJ,CAAC,CACDkB,aAAa,CAAC,uBAACC,OAAO,CAAG,CACrBA,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAAC+B,OAAO,CAAC,SAACd,KAAK,CAACC,MAAM,CAAG,CAChDD,KAAK,CAACL,SAAS,CAAG,IAAI,CACtBK,KAAK,CAACN,KAAK,CAAG,IAAI,CACtB,CAAC,CAAC,CACFkB,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAACgC,SAAS,CAAC,SAACf,KAAK,CAACC,MAAM,CAAG,CAClDD,KAAK,CAACL,SAAS,CAAG,KAAK,CACvBK,KAAK,CAACP,QAAQ,CAAEQ,MAAM,CAACS,OAAO,CAC9BV,KAAK,CAACJ,WAAW,CAAGK,MAAM,CAACS,OAAO,CAClCV,KAAK,CAACH,KAAK,CAAGI,MAAM,CAACS,OAAO,CAC5BV,KAAK,CAACN,KAAK,CAAG,IAAI,CAEtB,CAAC,CAAC,CACFkB,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAACiC,QAAQ,CAAC,SAAChB,KAAK,CAACC,MAAM,CAAG,CACjDD,KAAK,CAACL,SAAS,CAAG,KAAK,CACvBK,KAAK,CAACN,KAAK,CAAGO,MAAM,CAACS,OAAO,CAChC,CAAC,CAAC,CACN,CAEH,CAAC,CAAC,CAGF,cAAepB,cAAa,CAAC2B,OAAO,CAC7B,0BAAkD3B,aAAa,CAAC4B,OAAO,CAAhEnB,YAAY,uBAAZA,YAAY,CAACK,YAAY,uBAAZA,YAAY,CAACC,aAAa,uBAAbA,aAAa,CAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}