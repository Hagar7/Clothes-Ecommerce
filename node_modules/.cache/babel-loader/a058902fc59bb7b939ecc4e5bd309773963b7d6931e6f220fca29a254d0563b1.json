{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const getProducts = createAsyncThunk('products/getProducts', async (num, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n  try {\n    let {\n      data\n    } = await axios.get(`https://api.escuelajs.co/api/v1/categories/${num}/products`);\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState: {\n    products: [],\n    error: null,\n    isLoading: false,\n    listProduct: [],\n    items: []\n  },\n  reducers: {\n    increasePage: (state, action) => {\n      state.num += 1;\n      console.log(state.num += 1);\n    },\n    decreasePage: (state, action) => {\n      state.num -= 1;\n    },\n    filterByPrice: (state, action) => {\n      let newList = [...state.listProduct];\n      state.products = newList.filter(item => item.price > action.payload);\n      console.log(state.products);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getProducts.pending, (state, action) => {\n      state.isLoading = true;\n      state.error = null;\n    });\n    builder.addCase(getProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.products = action.payload;\n      state.listProduct = action.payload;\n      state.items = action.payload;\n      state.error = null;\n    });\n    builder.addCase(getProducts.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default productsSlice.reducer;\nexport const {\n  increasePage,\n  decreasePage,\n  filterByPrice\n} = productsSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getProducts","num","thunkAPI","rejectWithValue","data","get","error","message","productsSlice","name","initialState","products","isLoading","listProduct","items","reducers","increasePage","state","action","console","log","decreasePage","filterByPrice","newList","filter","item","price","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","reducer","actions"],"sources":["D:/route/react projects/ecomerce/src/store/ProductsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\n\r\nexport const getProducts = createAsyncThunk('products/getProducts',async(num,thunkAPI)=>{\r\n    const {rejectWithValue} = thunkAPI;\r\n\r\n    try {\r\n        let {data} = await axios.get(`https://api.escuelajs.co/api/v1/categories/${num}/products`);\r\n        return data\r\n        \r\n    } catch (error) {\r\n        return rejectWithValue(error.message);  \r\n    }\r\n\r\n})\r\n\r\n\r\n\r\n\r\n const productsSlice = createSlice({\r\n    name:'products',\r\n    initialState:{products:[],error:null,isLoading:false,listProduct:[],items:[]},\r\n    reducers:{\r\n        increasePage:(state, action)=>{\r\n            state.num+=1\r\n            console.log(state.num+=1);\r\n        },\r\n        decreasePage:(state, action)=>{\r\n            state.num-=1\r\n        },\r\n\r\n        filterByPrice:(state,action)=>{\r\n            let newList = [...state.listProduct]\r\n            state.products = newList.filter((item)=>item.price > action.payload)\r\n            console.log(state.products);\r\n        },\r\n    },\r\n    extraReducers:(builder)=>{\r\n        builder.addCase(getProducts.pending,(state,action)=>{\r\n            state.isLoading = true\r\n            state.error = null;\r\n        })\r\n        builder.addCase(getProducts.fulfilled,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.products =action.payload;\r\n            state.listProduct = action.payload;\r\n            state.items = action.payload;\r\n            state.error = null;\r\n\r\n        })\r\n        builder.addCase(getProducts.rejected,(state,action)=>{\r\n            state.isLoading = false;\r\n            state.error = action.payload; \r\n        })\r\n    }\r\n\r\n })\r\n\r\n\r\n export default productsSlice.reducer;\r\n export const {increasePage,decreasePage,filterByPrice} = productsSlice.actions;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAKzB,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CAAC,sBAAsB,EAAC,OAAMI,GAAG,EAACC,QAAQ,KAAG;EACpF,MAAM;IAACC;EAAe,CAAC,GAAGD,QAAQ;EAElC,IAAI;IACA,IAAI;MAACE;IAAI,CAAC,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,8CAA6CJ,GAAI,WAAU,CAAC;IAC1F,OAAOG,IAAI;EAEf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ,OAAOH,eAAe,CAACG,KAAK,CAACC,OAAO,CAAC;EACzC;AAEJ,CAAC,CAAC;AAKD,MAAMC,aAAa,GAAGV,WAAW,CAAC;EAC/BW,IAAI,EAAC,UAAU;EACfC,YAAY,EAAC;IAACC,QAAQ,EAAC,EAAE;IAACL,KAAK,EAAC,IAAI;IAACM,SAAS,EAAC,KAAK;IAACC,WAAW,EAAC,EAAE;IAACC,KAAK,EAAC;EAAE,CAAC;EAC7EC,QAAQ,EAAC;IACLC,YAAY,EAAC,CAACC,KAAK,EAAEC,MAAM,KAAG;MAC1BD,KAAK,CAAChB,GAAG,IAAE,CAAC;MACZkB,OAAO,CAACC,GAAG,CAACH,KAAK,CAAChB,GAAG,IAAE,CAAC,CAAC;IAC7B,CAAC;IACDoB,YAAY,EAAC,CAACJ,KAAK,EAAEC,MAAM,KAAG;MAC1BD,KAAK,CAAChB,GAAG,IAAE,CAAC;IAChB,CAAC;IAEDqB,aAAa,EAAC,CAACL,KAAK,EAACC,MAAM,KAAG;MAC1B,IAAIK,OAAO,GAAG,CAAC,GAAGN,KAAK,CAACJ,WAAW,CAAC;MACpCI,KAAK,CAACN,QAAQ,GAAGY,OAAO,CAACC,MAAM,CAAEC,IAAI,IAAGA,IAAI,CAACC,KAAK,GAAGR,MAAM,CAACS,OAAO,CAAC;MACpER,OAAO,CAACC,GAAG,CAACH,KAAK,CAACN,QAAQ,CAAC;IAC/B;EACJ,CAAC;EACDiB,aAAa,EAAEC,OAAO,IAAG;IACrBA,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAAC+B,OAAO,EAAC,CAACd,KAAK,EAACC,MAAM,KAAG;MAChDD,KAAK,CAACL,SAAS,GAAG,IAAI;MACtBK,KAAK,CAACX,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC;IACFuB,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAACgC,SAAS,EAAC,CAACf,KAAK,EAACC,MAAM,KAAG;MAClDD,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACN,QAAQ,GAAEO,MAAM,CAACS,OAAO;MAC9BV,KAAK,CAACJ,WAAW,GAAGK,MAAM,CAACS,OAAO;MAClCV,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACS,OAAO;MAC5BV,KAAK,CAACX,KAAK,GAAG,IAAI;IAEtB,CAAC,CAAC;IACFuB,OAAO,CAACC,OAAO,CAAC9B,WAAW,CAACiC,QAAQ,EAAC,CAAChB,KAAK,EAACC,MAAM,KAAG;MACjDD,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACX,KAAK,GAAGY,MAAM,CAACS,OAAO;IAChC,CAAC,CAAC;EACN;AAEH,CAAC,CAAC;AAGF,eAAenB,aAAa,CAAC0B,OAAO;AACpC,OAAO,MAAM;EAAClB,YAAY;EAACK,YAAY;EAACC;AAAa,CAAC,GAAGd,aAAa,CAAC2B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}